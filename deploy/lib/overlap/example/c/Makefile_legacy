.POSIX:
.SUFFIXES:
.SUFFIXES: .c
.SUFFIXES: .cpp
CFLAGS = -O2 -g
OVERLAP_FLAGS = -L../.. -I../.. -loverlap -lstdc++ -lm
GSL_FLAGS = `pkg-config --cflags --libs gsl`
EIGEN_FLAGS = `pkg-config --cflags eigen3`

O = \
gen \
main \
fail \

all: $O
.c:; $(CC) -o $@ $(CFLAGS) $< $(OVERLAP_FLAGS) $(GSL_FLAGS)
.cpp:; $(CXX) -o $@ $(CXXFLAGS) $(EIGEN_FLAGS) -I../.. $<
clean:; rm -f $O
